# Feature Specification: GitHub Projects TUI management

**Feature Branch**: `001-manage-projects-tui`  
**Created**: 2025-12-10  
**Status**: Draft  
**Input**: User description: "GitHub Projects をターミナル上で Vim 風キーバインドで操作する TUI 管理ツール"

## User Scenarios & Testing *(mandatory)*

### User Story 1 - キーボードでビュー横断とステータス更新 (Priority: P1)

プロジェクトのカード/アイテムをマウスを使わずに選択・移動し、カンバン/テーブル/ロードマップの各ビューを即座に切り替えながら、左右移動でステータスを変更できる。

**Why this priority**: キーボード操作が全体の生産性の核であり、最初に成立しないとツールの価値が出ないため。

**Independent Test**: プロジェクトを開き、キーボードのみで3ビューを切り替えつつ任意のアイテムを別ステータスに移せるかを単独で確認する。

**Acceptance Scenarios**:

1. **Given** プロジェクトが読み込まれアイテムがフォーカスされている, **When** ユーザーが `1/b`, `2/t`, `3/r` のいずれかを押す, **Then** 対応するビューに即時切り替わり現在のアイテム位置が表示される
2. **Given** カンバンまたは対応する列情報を持つビューが開いている, **When** ユーザーが `h` または `l` で左右移動する, **Then** アイテムのステータスが隣接列へ変更され画面に反映される

---

### User Story 2 - 高速フィルタリングで目的のアイテムに絞り込み (Priority: P2)

`/` でフィルタリングモードに入り、ラベル・担当者・ステータスなどの条件を入力することで、ビュー上の表示アイテムを瞬時に絞り込める。

**Why this priority**: 多数のアイテムを扱う際の探索時間短縮が主要価値であり、基本操作の次に重要となるため。

**Independent Test**: 任意のプロジェクトで `/` 入力後にフィルタ条件を設定・解除し、表示が遅延なく変わることを単独で検証できる。

**Acceptance Scenarios**:

1. **Given** ビューに複数アイテムが表示されている, **When** `/` を押して「label:design」などの条件を入力する, **Then** 条件に合致するアイテムだけが1秒以内に表示される
2. **Given** フィルタが適用された状態, **When** フィルタをクリアする操作を行う, **Then** 元のアイテム一覧が復元される

---

### User Story 3 - インライン編集と担当者割り当て (Priority: P3)

フォーカス中のアイテムに対し、インラインでタイトルや説明を編集したり、担当者を割り当てる/変更する操作をキーボードで完結できる。

**Why this priority**: 編集・割り当てを画面遷移なしで行うことで、管理作業を中断せずに完結でき、体験を大きく向上させるため。

**Independent Test**: アイテムを選択し、編集モードでタイトルを書き換え、担当者を設定して保存が反映されることを単独で検証できる。

**Acceptance Scenarios**:

1. **Given** アイテムが選択されている, **When** `i` または `Enter` で編集モードに入りタイトルを更新して保存する, **Then** 変更後のタイトルが一覧に即時反映される
2. **Given** アイテムが選択されている, **When** `a` を押して担当者を選択し確定する, **Then** 担当者情報が表示に反映される

---

### Edge Cases

- プロジェクトに表示可能なアイテムがない場合、空状態メッセージとリトライ手段を示す。
- フィルタ条件が厳しすぎて結果がゼロのとき、該当なし表示と解除操作を案内する。
- データ取得や更新に失敗した場合、現在のビューを保ったまま非ブロッキングなエラーメッセージと再試行方法を提示する。
- 編集モードで保存前にキャンセルした場合、既存データを保持し未保存変更を破棄する。

## Requirements *(mandatory)*

### Functional Requirements

- **FR-001**: ユーザーはプロジェクトを開いた際にヘッダーでプロジェクト名と現在のビュー/フィルター状態を確認できる。
- **FR-002**: ユーザーはキーボード操作だけでカンバン/テーブル/ロードマップの各ビューを切り替えられる。
- **FR-003**: ビュー切り替え後も可能な限り同一アイテムまたは同一位置がフォーカスされ、迷子にならない。
- **FR-004**: カンバン相当の文脈で `h`/`l` を用いた左右移動により、アイテムのステータス列を即時更新し画面に反映する。
- **FR-005**: `/` でフィルタリングモードに入り、ラベル・担当者・ステータスなどの条件を入力/編集/解除でき、結果が即座にビューへ反映される。
- **FR-006**: 編集モードでフォーカス中のアイテムのタイトルや説明をインラインで更新でき、保存/キャンセルを明示的に選べる。
- **FR-007**: 割り当て操作で担当者を追加・変更でき、選択内容が画面とステータス表示に反映される。
- **FR-008**: ロードマップビューではイテレーションや期日に基づく期間軸上にアイテムをテキストで可視化し、進捗を把握できる。
- **FR-009**: フッター等で現在のモード（ノーマル/フィルタリング/編集）と主要キーバインドのヒントが常に提示される。
- **FR-010**: データ取得・保存エラー時にユーザー向けのメッセージを表示し、再試行や操作継続が可能な状態を維持する。

### Key Entities *(include if feature involves data)*

- **Project**: 管理対象のプロジェクト。名称、ビュー種別、利用可能なフィルター条件、期間情報を持つ。
- **Item**: プロジェクト内のカード/チケット。タイトル、説明、ステータス（列）、担当者、ラベル、日付情報（作成・更新・期日）を持つ。
- **View Context**: 現在のビュー種別（カンバン/テーブル/ロードマップ）、フォーカス中のアイテム、適用中のフィルターやモード状態を保持する。
- **Timeline/Iteration**: ロードマップ上で期間を表す枠組み。期間名、開始/終了の目安、紐づくアイテムを持つ。

## Success Criteria *(mandatory)*

### Measurable Outcomes

- **SC-001**: ビュー切り替えやステータス移動の操作から画面反映までが95%のケースで1秒以内に完了する。
- **SC-002**: ユーザーはマウスを使わずにカンバン/テーブル/ロードマップ間の切替と1件のステータス更新を、初回利用でも3分以内に完了できる。
- **SC-003**: フィルタ適用・解除で意図した条件が反映され、結果表示が95%の試行で1秒以内に更新される。
- **SC-004**: インライン編集または担当者割り当て後の反映が95%の試行でリアルタイムに表示され、データ不整合による巻き戻りが発生しない。
- **SC-005**: ユーザビリティテスト参加者の90%以上が「キーボードのみで主要タスクを完遂できる」と回答し、タスク失敗率が10%未満である。
